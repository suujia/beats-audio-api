<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Finding out the BPM of a song using Javascript</title>
	    	<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
	    	<meta name="description" content="Demo of an algorithm to calculate tempo of a track using the Audio API, using the Spotify Web API to search for songs.">
	    	<meta name="twitter:card" content="summary">
	    	<meta name="twitter:site" content="@jmperezperez">
	    	<meta name="twitter:title" content="Finding out the BPM of a song on a browser">
	    	<meta name="twitter:description" content="Demo of an algorithm to calculate tempo of a track using the Audio API, using the Spotify Web API to search for songs.">
	    	<link rel="author" href="https://plus.google.com/107456024651797783420" />
	    	<link rel="canonical" href="https://jmperezperez.com/beats-audio-api/" />
	</head>
	<body>
		<script type="text/javascript">
    	var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-39254352-1"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://www.google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})()
    	</script>
		<h1>Calculating BPM using Javascript</h1>
		<p>This demo uses the browser's <strong>Audio API</strong> to determine the tempo of a song, processing a chunk of 30 seconds of a song. (The graphics only line up when the song is 30 seconds)</p>
		<p>For more information, read the blog post <a href="http://joesul.li/van/beat-detection-using-web-audio/">Beat Detection Using JavaScript and the Web Audio API</a>, from where I've taken the code to perform the track analysis,
			and <a href="https://jmperezperez.com/bpm-detection-javascript/">my blog post</a> where I explain some changes I made to
			the original algorithm and how I used Spotify's APIs to find and match tracks.
		</p>
		<form>
			<input id="song" type = "file" name="file" accept = ".mp3"/>
			<input type="submit" value="Search track &amp; Calculate tempo">
		</form>

		<div id="result">
			<div id="text"></div>
			<div>
				<svg width="100%" height="40" id="svg"></svg>
				<button id="play">Play track</button>
			</div>

			<audio id="audio"></audio>
		</div>

		<p>How this works:</p>
		<ol>
			<li>Upload song as the source for the Audio API</a></li>
			<li>Apply a lowbass filter</li>
			<li>Find peaks</li>
			<li>Count intervals between peaks</li>
			<li>Group them</li>
		</ol>
		<footer>
			<h3>Source Code</h3>
			<p>You can <a href="https://github.com/JMPerez/beats-audio-api">check out the code on GitHub</a>.</p>
		</footer>
		<script src="script.js"></script>
	</body>
</html>
